<!DOCTYPE html>
<html lang="pt">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Painel Nine Box</title>
  
  <!-- Tailwind CSS para os Estilos -->
  <script src="https://cdn.tailwindcss.com"></script>
  
  <!-- React & ReactDOM -->
  <script crossorigin src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
  <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
  
  <!-- Babel (Traduz o React JSX a funcionar diretamente no navegador) -->
  <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>

  <style>
    /* Estilos extra que não estão no Tailwind */
    .custom-scrollbar::-webkit-scrollbar { width: 4px; }
    .custom-scrollbar::-webkit-scrollbar-track { background: transparent; }
    .custom-scrollbar::-webkit-scrollbar-thumb { background: rgba(0,0,0,0.2); border-radius: 4px; }
    @keyframes fadeIn { from { opacity: 0; transform: scale(0.9); } to { opacity: 1; transform: scale(1); } }
    .animate-fade-in { animation: fadeIn 0.2s ease-out forwards; }
  </style>
</head>
<body class="bg-gray-50">
  <!-- Onde o nosso React vai ser renderizado -->
  <div id="root"></div>

  <!-- Script principal da aplicação -->
  <script type="text/babel">
    const { useState } = React;

    // --- Ícones (Substituindo a biblioteca externa para funcionar num ficheiro único) ---
    const PlusIcon = () => (
      <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round"><line x1="12" y1="5" x2="12" y2="19"></line><line x1="5" y1="12" x2="19" y2="12"></line></svg>
    );
    const TrashIcon = () => (
      <svg width="12" height="12" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round"><polyline points="3 6 5 6 21 6"></polyline><path d="M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"></path><line x1="10" y1="11" x2="10" y2="17"></line><line x1="14" y1="11" x2="14" y2="17"></line></svg>
    );
    const PrinterIcon = () => (
      <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round"><polyline points="6 9 6 2 18 2 18 9"></polyline><path d="M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2"></path><rect x="6" y="14" width="12" height="8"></rect></svg>
    );

    // --- Dados e Configurações Iniciais ---
    const BOXES = [
      { id: 'promissor', title: 'PROMISSOR', bg: 'bg-[#9ae0b1]' },
      { id: 'alto-potencial', title: 'ALTO POTENCIAL', bg: 'bg-[#62d47e]' },
      { id: 'sucessor', title: 'SUCESSOR', bg: 'bg-[#4bc969]' },
      { id: 'em-desenvolvimento', title: 'EM DESENVOLVIMENTO', bg: 'bg-[#fad186]' },
      { id: 'consistente', title: 'CONSISTENTE', bg: 'bg-[#cce8d4]' },
      { id: 'exemplar', title: 'EXEMPLAR', bg: 'bg-[#bee5ce]' },
      { id: 'desenvolver', title: 'DESENVOLVER', bg: 'bg-[#ec6c60]' },
      { id: 'acompanhar', title: 'ACOMPANHAR', bg: 'bg-[#f49c55]' },
      { id: 'especialista', title: 'ESPECIALISTA', bg: 'bg-[#f7ba4a]' },
    ];

    const INITIAL_EMPLOYEES = [
      { id: '1', name: 'Diogo Calixto', avatar: 'https://ui-avatars.com/api/?name=Diogo+Calixto&background=random&color=fff', boxId: 'promissor' },
      { id: '2', name: 'Rogerio Sevilha', avatar: 'https://ui-avatars.com/api/?name=Rogerio+Sevilha&background=random&color=fff', boxId: 'promissor' },
      { id: '3', name: 'Marcelo de Paula', avatar: 'https://ui-avatars.com/api/?name=Marcelo+de+Paula&background=random&color=fff', boxId: 'alto-potencial' },
      { id: '4', name: 'Gilvan Junior', avatar: 'https://ui-avatars.com/api/?name=Gilvan+Junior&background=random&color=fff', boxId: 'em-desenvolvimento' },
      { id: '5', name: 'Fabio Marinho', avatar: 'https://ui-avatars.com/api/?name=Fabio+Marinho&background=random&color=fff', boxId: 'em-desenvolvimento' },
      { id: '6', name: 'Fernando Volpi', avatar: 'https://ui-avatars.com/api/?name=Fernando+Volpi&background=random&color=fff', boxId: 'em-desenvolvimento' },
      { id: '7', name: 'Camila Beck', avatar: 'https://ui-avatars.com/api/?name=Camila+Beck&background=random&color=fff', boxId: 'desenvolver' },
      { id: '8', name: 'Jailson Cruz', avatar: 'https://ui-avatars.com/api/?name=Jailson+Cruz&background=random&color=fff', boxId: 'desenvolver' },
      { id: '9', name: 'Vinicius Carvalho', avatar: 'https://ui-avatars.com/api/?name=Vinicius+Carvalho&background=random&color=fff', boxId: 'desenvolver' },
      { id: '10', name: 'Flavia Lima', avatar: 'https://ui-avatars.com/api/?name=Flavia+Lima&background=random&color=fff', boxId: 'desenvolver' },
      { id: '11', name: 'Sandra Guedes', avatar: 'https://ui-avatars.com/api/?name=Sandra+Guedes&background=random&color=fff', boxId: 'acompanhar' },
    ];

    // --- Componente Principal ---
    function App() {
      const [employees, setEmployees] = useState(INITIAL_EMPLOYEES);
      const [newName, setNewName] = useState('');
      const [selectedBox, setSelectedBox] = useState('desenvolver');

      const handleDragStart = (e, employeeId) => { e.dataTransfer.setData('employeeId', employeeId); };
      const handleDragOver = (e) => { e.preventDefault(); };
      const handleDrop = (e, targetBoxId) => {
        e.preventDefault();
        const employeeId = e.dataTransfer.getData('employeeId');
        setEmployees(prev => prev.map(emp => emp.id === employeeId ? { ...emp, boxId: targetBoxId } : emp));
      };

      const handleAddEmployee = (e) => {
        e.preventDefault();
        if (!newName.trim()) return;
        const newEmployee = {
          id: Date.now().toString(),
          name: newName,
          avatar: `https://ui-avatars.com/api/?name=${encodeURIComponent(newName)}&background=random&color=fff`,
          boxId: selectedBox
        };
        setEmployees([...employees, newEmployee]);
        setNewName('');
      };

      const handleDelete = (id) => { setEmployees(employees.filter(emp => emp.id !== id)); };

      return (
        <div className="min-h-screen bg-gray-50 p-8 font-sans">
          
          <div className="max-w-6xl mx-auto mb-8 bg-white p-4 rounded-lg shadow print:hidden flex flex-wrap gap-4 items-center justify-between">
            <form onSubmit={handleAddEmployee} className="flex gap-2 items-center flex-1">
              <input 
                type="text" 
                placeholder="Nome do Colaborador" 
                value={newName}
                onChange={(e) => setNewName(e.target.value)}
                className="border border-gray-300 rounded px-3 py-2 w-64 focus:outline-none focus:ring-2 focus:ring-blue-500"
              />
              <select 
                value={selectedBox} 
                onChange={(e) => setSelectedBox(e.target.value)}
                className="border border-gray-300 rounded px-3 py-2 bg-white focus:outline-none focus:ring-2 focus:ring-blue-500"
              >
                {BOXES.map(box => <option key={box.id} value={box.id}>{box.title}</option>)}
              </select>
              <button type="submit" className="bg-[#006bc6] text-white px-4 py-2 rounded flex items-center gap-2 hover:bg-blue-700 transition">
                <PlusIcon /> Adicionar
              </button>
            </form>

            <button onClick={() => window.print()} className="bg-gray-800 text-white px-4 py-2 rounded flex items-center gap-2 hover:bg-gray-900 transition">
              <PrinterIcon /> Imprimir / PDF
            </button>
          </div>

          <div className="max-w-6xl mx-auto bg-white p-6 shadow-xl rounded-xl">
            <div className="relative flex flex-col w-full">
              
              <div className="flex">
                <div className="flex flex-col mr-2">
                  <div className="flex flex-1 h-[600px]">
                    <div className="bg-[#006bc6] w-12 flex items-center justify-center rounded-tl-md relative">
                      <span className="text-white font-bold text-lg tracking-[0.2em] whitespace-nowrap" style={{ writingMode: 'vertical-rl', transform: 'rotate(180deg)' }}>
                        POTENCIAL DE DESENVOLVIMENTO
                      </span>
                    </div>
                    <div className="w-16 flex flex-col justify-around items-center py-16 relative bg-white">
                      <div className="absolute right-2 top-8 bottom-8 w-[2px] bg-gray-600"></div>
                      <div className="absolute right-[3px] top-8 w-3 h-3 border-t-[2px] border-l-[2px] border-gray-600 transform rotate-45"></div>
                      <span className="-rotate-90 font-bold text-gray-600 text-sm whitespace-nowrap">3. ALTA</span>
                      <span className="-rotate-90 font-bold text-gray-600 text-sm whitespace-nowrap">2. MÉDIA</span>
                      <span className="-rotate-90 font-bold text-gray-600 text-sm whitespace-nowrap">1. BAIXA</span>
                    </div>
                  </div>
                </div>

                <div className="flex-1 grid grid-cols-3 grid-rows-3 gap-2 h-[600px]">
                  {BOXES.map((box) => (
                    <div key={box.id} onDragOver={handleDragOver} onDrop={(e) => handleDrop(e, box.id)} className={`${box.bg} p-2 flex flex-col shadow-sm border border-white/40 overflow-hidden relative`}>
                      <h3 className="text-white text-center font-bold text-xs sm:text-sm mb-3 tracking-wide drop-shadow-sm">{box.title}</h3>
                      <div className="flex-1 flex flex-wrap gap-2 justify-center content-start overflow-y-auto custom-scrollbar">
                        {employees.filter(emp => emp.boxId === box.id).map(emp => (
                          <div key={emp.id} draggable onDragStart={(e) => handleDragStart(e, emp.id)} className="group flex flex-col items-center w-[70px] cursor-grab active:cursor-grabbing relative animate-fade-in" title={emp.name}>
                            <button onClick={() => handleDelete(emp.id)} className="absolute -top-1 -right-1 bg-red-500 text-white rounded-full p-1 opacity-0 group-hover:opacity-100 transition-opacity z-10 print:hidden">
                              <TrashIcon />
                            </button>
                            <img src={emp.avatar} alt={emp.name} className="w-12 h-12 rounded-full object-cover border-2 border-white shadow-md pointer-events-none" />
                            <span className="text-[11px] leading-tight text-center text-gray-800 font-medium mt-1">
                              {emp.name.split(' ').map((n, i) => <React.Fragment key={i}>{n}<br/></React.Fragment>)}
                            </span>
                          </div>
                        ))}
                      </div>
                    </div>
                  ))}
                </div>
              </div>

              <div className="flex mt-2">
                <div className="w-[112px] mr-2"></div>
                <div className="flex-1">
                  <div className="flex justify-around items-center h-12 relative w-full mb-2">
                     <div className="absolute left-8 right-8 top-1/2 -translate-y-1/2 h-[2px] bg-gray-600"></div>
                     <div className="absolute right-8 top-1/2 -translate-y-[6px] w-3 h-3 border-t-[2px] border-r-[2px] border-gray-600 transform rotate-45 bg-white"></div>
                     <span className="font-bold text-gray-600 text-sm bg-white px-2 z-10">1. BAIXA</span>
                     <span className="font-bold text-gray-600 text-sm bg-white px-2 z-10">2. MÉDIA</span>
                     <span className="font-bold text-gray-600 text-sm bg-white px-2 z-10">3. ALTA</span>
                  </div>
                </div>
              </div>

              <div className="flex">
                <div className="bg-[#006bc6] w-12 h-14 rounded-bl-md mr-2"></div>
                <div className="bg-[#006bc6] flex-1 h-14 flex items-center justify-center rounded-br-md rounded-tr-md ml-[64px]">
                  <span className="text-white font-bold text-xl tracking-[0.3em]">PRONTIDÃO</span>
                </div>
              </div>

            </div>
          </div>
        </div>
      );
    }

    // --- Renderização do App ---
    const root = ReactDOM.createRoot(document.getElementById('root'));
    root.render(<App />);
  </script>
</body>
</html>
